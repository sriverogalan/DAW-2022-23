<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Partitura</title>
    <link rel="stylesheet" href="css/styles.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Dancing+Script&display=swap"
      rel="stylesheet"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link
      href="https://fonts.googleapis.com/css2?family=Oswald:wght@300&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <header>
      <nav>
        <h1 class="logo-name">Score Finder</h1>
      </nav>
    </header>

    <section>
      <form name="formulari" onsubmit="check()" method="dialog">
        <label for="titol">Títol</label>
        <input type="text" name="titol" id="titol" />

        <label for="idiomaOriginal">Idioma Original</label>
        <select name="idiomaOriginal" id="idiomaOriginal">
          <option value="-1">Elige un idioma</option>
          <option value="0">Català</option>
          <option value="1">Castellà</option>
          <option value="2">Anglès</option>
          <option value="3">Francès</option>
          <option value="4">Alemany</option>
          <option value="5">Italià</option>
          <option value="6">Portuguès</option>
        </select>

        <label for="lletraOriginal" >Lletra Original</label>
        <textarea
          name="lletraOriginal"
          id="lletraOriginal"
          cols="10"
          rows="5"
        ></textarea>

        <label for="traduccio">Traducció</label>
        <textarea name="traduccio" id="traduccio" cols="10" rows="5"></textarea>

        <input type="submit" />
      </form>
      <script>
        function titleCheck() {
          const titol = document.querySelector("#titol").value;
          const regex = /\w+\s\w+\s\w+/;
          if (regex.test(titol)) {
            document.querySelector("#titol").style.backgroundColor = "green"; 
            return true;
          } else {
            document.querySelector("#titol").style.backgroundColor = "red"; 
            return false;
          } 
        }
 
        function idiomaOriginalCheck() {
          const idiomaOriginal = document.getElementById("idiomaOriginal").value;
          if (idiomaOriginal != -1) {
            document.querySelector("#idiomaOriginal").style.backgroundColor = "green"; 
            return true;
          } else {
            document.querySelector("#idiomaOriginal").style.backgroundColor = "red"; 
            return false;
          }
        }

        function lletraOriginalCheck() {
          // comprobar si no esta vacio
          const lletraOriginal = document.querySelector("#lletraOriginal").value;
          if (lletraOriginal != "") {
            document.querySelector("#lletraOriginal").style.backgroundColor = "green"; 
            return true;
          } else {
            document.querySelector("#lletraOriginal").style.backgroundColor = "red"; 
            return false;
          }
        }

        function traduccioCheck() {
          const traduccio = document.getElementById("traduccio").value;
          if (traduccio != "") {
            document.querySelector("#traduccio").style.backgroundColor = "green"; 
            return true;
          } else {
            document.querySelector("#traduccio").style.backgroundColor = "red"; 
            return false;
          }
        }
        function checkAll() { 
            titleCheck() 
            idiomaOriginalCheck() 
            lletraOriginalCheck()  
            traduccioCheck() 
            return titleCheck() && idiomaOriginalCheck() && lletraOriginalCheck() && traduccioCheck()
        }

        function check() {   
          if (checkAll()) {
            window.location = "http://iesmanacor.cat/"
          }  
        }
      </script>
    </section>
  </body>
</html>
