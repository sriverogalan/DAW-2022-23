<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <button>Nou Animal</button>
    <table id="animal">
      <tr>
        <th>Nom</th>
        <th>Accions</th>
      </tr>
    </table>
    <script type="module">
      import { AnimalService } from "./controller/animalService.js";
      (async function () {
        const animalService = new AnimalService() ;
        const animals = await animalService.getAnimals();
        pintar(animals);
      })();
    
      function pintar(animals){
        const taula = document.querySelector("#animal");
        for (let animal of animals){
          const tr = document.createElement("tr");
          const tdNom = document.createElement("td");
          tdNom.innerHTML = animal.name;
          const tdAccions = document.createElement("td");
          tdAccions.innerHTML = `<a href="animalForm?id=${animal.id}">Editar</a>`;
          tr.appendChild(tdNom);
          tr.appendChild(tdAccions);
          taula.appendChild(tr);
        }
      }
    </script>
  </body>
</html>
