<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Colors</title>
</head>

<body>
    <label for="min">min</label>
    <input type="text" id="min">

    <label for="max">max</label>
    <input type="text" id="max">

    <button id="color">Canviar el color</button>
    <div id="quadre"></div>
    <script>
        document.querySelector('#color').addEventListener('click', () => {
            const min = document.querySelector('#min').value;
            const max = document.querySelector('#max').value;
            if (min && max) {
                const peticio = fetch("https://theteacher.codiblau.com/exercicis/other/color?min=" + min + "&max=" + max + "")
                console.log(peticio);
                const resolve1 = peticio.then(r => {
                    document.querySelector('#quadre').style.backgroundColor = r.color;
                    console.log(r);
                    return r.json();
                })    
                const resolve2 = resolve1.then(r => {
                    console.log(r);
                    document.querySelector('#quadre').style.backgroundColor = r.color;
                })
                
                
                
                
                
                /**.then(r => r.json())
                    .then(r => {
                        console.log(r);
                        document.querySelector('body').style.backgroundColor = '#' + r.background;
                        document.querySelector('#quadre').style.backgroundColor = '#' + r.color;
                        document.querySelector('#quadre').style.width = r.width + 'px';
                        document.querySelector('#quadre').style.height = r.height + 'px';
                    })
                    .catch(error  =>{
                        console.log(r);
                        document.querySelector('body').innerHTML += '<p>ERROR : ' + error.message() + '</p>';
                    })*/
            }
        })
    </script>
</body>

</html>